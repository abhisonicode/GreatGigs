function e(e,r,l,t){Object.defineProperty(e,r,{get:l,set:t,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirea705;r.register("jNpcT",(function(l,t){var s;s=l.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(l.exports,"default",(()=>p));var a=r("ayMG0"),i=r("acw62"),o=r("11bZD"),n=r("3fd0L");r("jZ2mi");var c=r("lzNIT"),d=r("5CC1K"),m=r("f19YE"),u=r("5Cl3s"),g=r("e18e2"),b=r("aWPyr"),x=r("9gCBi");var p=()=>{const[e,r]=(0,i.useState)(void 0),[l,t]=(0,i.useState)([]),[s,p]=(0,i.useState)(!1),[h,f]=(0,i.useReducer)(o.gigReducer,o.INITIAL_STATE),y=e=>{f({type:"CHANGE_INPUT",payload:{name:e.target.name,value:e.target.value}})},v=(0,c.useNavigate)(),j=(0,m.useQueryClient)(),N=(0,d.useMutation)({mutationFn:async e=>await(0,u.CreateGig)(e),onSuccess:({data:e,status:r})=>{200===r&&e.status===x.ApiStatus.success&&((0,b.showSuccessAlert)(e.message),v("/my-gigs"),j.invalidateQueries(["my-gigs"]))},onError:e=>{const{response:r}=e,{data:l}=r;(0,b.showErrorAlert)(l.message)}}),w=e=>{e.preventDefault(),h.cover&&h.title&&h.desc&&h.cat&&h.price&&h.cover&&h.shortTitle&&h.shortDesc&&h.deliveryTime&&h.revisionNumber&&0!==h.images.length&&0!==h.features.length?N.mutate(h):(0,b.showErrorAlert)("All fields are required!")};return(0,a.jsxs)("div",{className:"max-w-screen-2xl mx-auto py-12 px-8 md:py-16 md:px-16",children:[(0,a.jsx)("div",{className:"flex justify-between mb-6",children:(0,a.jsx)("h1",{className:"font-bold text-2xl",children:"Add New Gig"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-x-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"title",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Title"}),(0,a.jsx)("input",{maxLength:80,type:"text",name:"title",onChange:y,className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"eg. I will create a super powerfull react application..."})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"category",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Category"}),(0,a.jsxs)("select",{name:"cat",onChange:y,id:"category",className:"bg-gray-50 border text-sm rounded-lg cursor-pointer text-gray-900 focus:outline-none border-gray-300 placeholder-gray-400 block w-full p-2.5",children:[(0,a.jsx)("option",{value:"graphic-design",children:"Graphics & Design"}),(0,a.jsx)("option",{value:"digital-marketing",children:"Digital Marketing"}),(0,a.jsx)("option",{value:"writing-translation",children:"Writing & Translation"}),(0,a.jsx)("option",{value:"video-animation",children:"Video & Animation"}),(0,a.jsx)("option",{value:"web-development",children:"Web Development"}),(0,a.jsx)("option",{value:"programming-tech",children:"Programming & Tech"}),(0,a.jsx)("option",{value:"business-services",children:"Business Services"}),(0,a.jsx)("option",{value:"lifestyle-services",children:"Lifestyle Services"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"cover-image",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Cover Image"}),(0,a.jsx)("input",{onChange:e=>r(e.target.files[0]),className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none","aria-describedby":"cover-image",id:"cover-image",type:"file"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"upload-images",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Upload Images"}),(0,a.jsx)("input",{onChange:e=>t(e.target.files),className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none","aria-describedby":"upload-images",id:"upload-images",type:"file",multiple:!0})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:async()=>{if(!e||0===l.length)return(0,b.showErrorAlert)("Please choose both, cover and gallery images");p(!0);try{const r=await(0,n.default)(e),t=await Promise.all([...l].map((async e=>await(0,n.default)(e))));(0,b.showSuccessAlert)("Images uploaded successfully!"),f({type:"ADD_IMAGES",payload:{cover:r,images:t}})}catch(e){console.log(e)}finally{p(!1)}},className:"text-white bg-blue-500 hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:s?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(g.LoaderIcon,{})," ",(0,a.jsx)("span",{children:"uploading"})]})}):"Upload"})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Description"}),(0,a.jsx)("textarea",{name:"desc",id:"description",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none min-h-[300px]",required:"",onChange:y})]}),(0,a.jsx)("button",{onClick:w,className:"hidden xl:block text-white bg-blue-500 hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:"Create Gig"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6 mt-8 xl:mt-0",children:[(0,a.jsx)("label",{htmlFor:"service-title",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Service Title"}),(0,a.jsx)("input",{name:"shortTitle",type:"service-title",id:"service-title",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"eg. Powerfull react application...",onChange:y})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"short-description",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Short Description"}),(0,a.jsx)("textarea",{name:"shortDesc",onChange:y,id:"short-description",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none min-h-[80px]",required:""})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"price",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Price"}),(0,a.jsx)("input",{name:"price",onChange:y,type:"number",id:"price",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"Enter Price (eg. 10)"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"delivery-time",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Delivery Time"}),(0,a.jsx)("input",{name:"deliveryTime",onChange:y,type:"number",id:"delivery-time",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"Enter number (eg. 3)"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"revisions",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Number of Revisions"}),(0,a.jsx)("input",{name:"revisionNumber",onChange:y,type:"number",id:"revisionsx",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"Enter number (eg. 1)"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Add Features"}),(0,a.jsxs)("form",{className:"flex flex-row gap-x-2",onSubmit:e=>{e.preventDefault(),e.target[0].value&&(f({type:"ADD_FEATURE",payload:e.target[0].value}),e.target[0].value="")},children:[(0,a.jsx)("input",{type:"text",className:"bg-gray-50 border border-gray-300 text-sm rounded-lg block w-full p-2.5 focus:outline-none",placeholder:"eg. Powerfull react application..."}),(0,a.jsx)("button",{className:"bg-blue-500 text-white rounded-lg px-4 p-2",children:"Add"})]}),(0,a.jsx)("div",{className:"flex mt-3 flex-row flex-wrap gap-3 ",children:h.features?.map(((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-1 border-blue-800 p-1 px-3 rounded border text-blue-800",children:[e,(0,a.jsx)("svg",{onClick:()=>f({type:"REMOVE_FEATURE",payload:{index:r}}),className:"ml-2 w-4 h-4 text-blue-800 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18 17.94 6M18 18 6.06 6"})})]},r)))})]}),(0,a.jsx)("button",{onClick:w,className:"block xl:hidden w-full text-white bg-blue-500 hover:bg-blue-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm sm:w-full px-5 py-2.5 text-center",children:"Create Gig"})]})]})]})}})),r.register("11bZD",(function(r,l){e(r.exports,"INITIAL_STATE",(()=>s)),e(r.exports,"gigReducer",(()=>a));const t=JSON.parse(localStorage.getItem("loggedInUser")||"{}"),s={userId:t?._id,title:"",desc:"",cat:"graphic-design",price:0,cover:"",images:[],shortTitle:"",shortDesc:"",deliveryTime:0,revisionNumber:0,features:[]},a=(e,r)=>{switch(r.type){case"CHANGE_INPUT":return{...e,[r.payload.name]:r.payload.value};case"ADD_IMAGES":return{...e,cover:r.payload.cover,images:r.payload.images};case"ADD_FEATURE":return{...e,features:[...e.features,r.payload]};case"REMOVE_FEATURE":return{...e,features:e.features.filter(((e,l)=>l!==r.payload.index))};default:return e}}}));
//# sourceMappingURL=Add.aea6a226.js.map
